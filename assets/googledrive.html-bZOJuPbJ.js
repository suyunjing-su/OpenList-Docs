import{_ as i,a as n,b as r}from"./google-ouath-02-BekU0u6J.js";import{_ as s,a as l,b as d,c,d as h,e as g,f as p,g as m,h as u,i as f,j as y,k as b,l as v,m as _,n as k,o as w,p as I,q as A,r as z}from"./google-08-d-CDCsXzph.js";import{_ as C,g as D,j as O,h as a,k as o,i as x,o as G}from"./app-D4jmBZjT.js";const P={};function S(T,e){const t=x("Mermaid");return G(),D("div",null,[e[0]||(e[0]=O('<h1 id="google-drive" tabindex="-1"><a class="header-anchor" href="#google-drive"><span>Google Drive</span></a></h1><p>Supports team drives (fill in the directory ID of the team drive for the root directory ID)</p><h2 id="_1-necessary-conditions" tabindex="-1"><a class="header-anchor" href="#_1-necessary-conditions"><span>1. Necessary Conditions</span></a></h2><div class="hint-container warning"><p class="hint-container-title">Notes</p><ol><li>The machine where the OpenList service is deployed must first be able to connect to Google Drive.</li><li>The Google Drive API service must be activated. For the activation method, see <a href="#_2-1-enabling-the-google-drive-api">Enabling the Google Drive API</a>.</li></ol><blockquote><p>Refer to <a href="https://developers.google.com/workspace/drive/api/quickstart/js" target="_blank" rel="noopener noreferrer">Google Workspace &gt; Google Drive &gt; Guide</a>: <a href="https://developers.google.com/workspace/drive/api/quickstart/js" target="_blank" rel="noopener noreferrer">https://developers.google.com/workspace/drive/api/quickstart/js</a></p></blockquote></div><h2 id="_2-preparation-for-integration" tabindex="-1"><a class="header-anchor" href="#_2-preparation-for-integration"><span>2. Preparation for Integration</span></a></h2><h3 id="_2-1-enabling-the-google-drive-api" tabindex="-1"><a class="header-anchor" href="#_2-1-enabling-the-google-drive-api"><span>2.1. Enabling the Google Drive API</span></a></h3><ol><li>On the <a href="https://developers.google.com/workspace/drive/api/quickstart/js" target="_blank" rel="noopener noreferrer">guide page</a>, find the <code>Enable API</code> button, click to enter the quick activation interface, click Next and Confirm to complete the activation.</li><li>You can also visit the <a href="https://console.cloud.google.com/apis/library/drive.googleapis.com" target="_blank" rel="noopener noreferrer">Google Drive API management interface</a>, find the <code>Enable</code> button at the top, click and wait for the activation to complete.</li><li><code>Quota and System Limit Management</code> (optional): Switch to the <code>Quota and System Limits</code> tab, and set appropriate quotas and limits according to your usage and needs.</li></ol><h3 id="_2-2-creating-an-oauth-client-optional-no-need-to-create-if-using-openlist-community-server-self-hosted-server" tabindex="-1"><a class="header-anchor" href="#_2-2-creating-an-oauth-client-optional-no-need-to-create-if-using-openlist-community-server-self-hosted-server"><span>2.2. Creating an OAuth Client (optional; no need to create if using OpenList/Community server/self-hosted server)</span></a></h3><ol><li>In the <a href="https://console.cloud.google.com/apis/credentials?hl=zh-cn" target="_blank" rel="noopener noreferrer">Credentials interface</a>, click the <code>Create Credentials</code> drop-down menu, and select and click <code>OAuth Client ID</code>.</li></ol><p><img src="'+i+'" alt="google-ouath-00" loading="lazy"></p><ol start="2"><li>In the pop-up window, select <code>Web Application</code> and fill in the application name.</li><li>In the <code>Authorized Redirect URIs</code>, enter <code>https://api.oplist.org/googleui/callback</code>. If using a self-hosted or Community server, enter the corresponding domain name, such as <code>https://your-domain.com/googleui/callback</code>.</li><li>Click the <code>Create</code> button to complete the creation of the OAuth client. Note: Please copy and save the <code>Client ID</code> and <code>Client Secret</code> for subsequent use.</li></ol><p><img src="'+n+'" alt="google-ouath-00" loading="lazy"></p><ol start="5"><li>Add yourself as a test user. Find the <code>Target</code> menu on the left, click to enter, find the <code>+ Add User</code> button under <code>Test Users</code>, click and enter your Google account email address, then click Add.</li></ol><p><img src="'+r+'" alt="google-ouath-02" loading="lazy"></p><ol start="6"><li>After testing, you can publish the application. Find the <code>Target</code> menu on the left, click to enter, find the <code>Publish App</code> button under <code>Publishing Status</code>, click and confirm to complete the app publishing.</li></ol><p><img src="'+s+'" alt="google-ouath-03" loading="lazy"></p><h3 id="_2-3-obtaining-access-token-and-refresh-token" tabindex="-1"><a class="header-anchor" href="#_2-3-obtaining-access-token-and-refresh-token"><span>2.3. Obtaining <code>Access Token</code> and <code>Refresh Token</code></span></a></h3><ol><li>Open the <a href="https://api.oplist.org/" target="_blank" rel="noopener noreferrer">OpenList Google Authorization Page</a> <strong>⚠️ If using a Community server/self-hosted server, visit the Community server/self-hosted server</strong>.</li><li>In the drop-down box on the page, select <code>GoogleDrive Login</code>.</li></ol><p><img src="'+l+'" alt="google-00-l" data-mode="lightmode-only" loading="lazy"><br><img src="'+d+'" alt="google-00-d" data-mode="darkmode-only" loading="lazy"></p><ol start="3"><li>If you created an OAuth client ID in the above steps, enter the created <code>Client ID</code> and <code>Client Secret</code> in the following input boxes.</li></ol><p><img src="'+c+'" alt="google-01-01-l" data-mode="lightmode-only" loading="lazy"><br><img src="'+h+'" alt="google-01-01-d" data-mode="darkmode-only" loading="lazy"></p><p>Otherwise, check ☑️ to use the API provided by OpenList. <strong>⚠️ If using a Community server/self-hosted server, the built-in client ID and application secret of the Community server/self-hosted server are used at this time</strong>.</p><p><img src="'+g+'" alt="google-01-02-l" data-mode="lightmode-only" loading="lazy"><br><img src="'+p+'" alt="google-01-02-d" data-mode="darkmode-only" loading="lazy"></p><ol start="4"><li>Click the <code>Get Authorization</code> button, the system will jump to the Google authorization page, log in to your Google account, and authorize OpenList to access your Google Drive.</li></ol><p><img src="'+m+'" alt="google-02" loading="lazy"></p><ol start="5"><li>If the prompt <code>This app isn&#39;t verified by Google</code> appears, click <code>Advanced</code>, then click <code>Go to oplist.org (unsafe)</code> to continue. (If it is a Community server/self-hosted server, the domain name here is based on the actual Community service domain name, please carefully identify).</li></ol><p><img src="'+u+'" alt="google-03" loading="lazy"></p><ol start="6"><li>Please pay attention to the permission information on the authorization page (in the red box below), ensure that it only accesses your <strong>Google Drive files</strong>. If you find that the permission in the Community service is not limited to accessing <strong>Google Drive</strong>, please raise an issue in <a href="https://github.com/openlistteam/docs/issues" target="_blank" rel="noopener noreferrer">openlistteam/docs/issues</a>.</li></ol><p><img src="'+f+'" alt="google-04" loading="lazy"></p><ol start="6"><li>After successful authorization, the system will return a <code>Refresh Token</code> and <code>Access Token</code>. Please copy and save the token for use in subsequent configurations.</li></ol><p><img src="'+y+'" alt="google-05-l" data-mode="lightmode-only" loading="lazy"><br><img src="'+b+'" alt="google-05-d" data-mode="darkmode-only" loading="lazy"></p><h2 id="_3-adding-google-drive-to-alist" tabindex="-1"><a class="header-anchor" href="#_3-adding-google-drive-to-alist"><span>3. Adding Google Drive to Alist</span></a></h2><h3 id="_3-1-configuration-instructions" tabindex="-1"><a class="header-anchor" href="#_3-1-configuration-instructions"><span>3.1. Configuration Instructions</span></a></h3><h4 id="_3-1-1-root-folder-id" tabindex="-1"><a class="header-anchor" href="#_3-1-1-root-folder-id"><span>3.1.1. <strong>Root Folder ID</strong></span></a></h4><p>Similar to Alibaba Cloud Drive, it is the last string in the official website URL, such as:</p><p><img src="'+v+'" alt="google" loading="lazy"></p><h3 id="_3-2-starting-to-add" tabindex="-1"><a class="header-anchor" href="#_3-2-starting-to-add"><span>3.2. Starting to Add</span></a></h3><ol><li>Open the Alist management interface and click the <code>Storage</code> menu on the left.</li><li>On the storage list page, click the <code>Add Storage</code> button in the upper right corner.</li><li>Select the driver as <code>Google Drive</code>.</li></ol><p><img src="'+_+'" alt="google-06-l" data-mode="lightmode-only" loading="lazy"><br><img src="'+k+'" alt="google-06-d" data-mode="darkmode-only" loading="lazy"></p><ol start="4"><li>Enter the mount path, such as: <code>google-drive</code>.</li><li>Enter the root folder ID obtained above in the <code>Root Folder ID</code>. If using the root directory, enter <code>root</code>.</li><li>Enter the refresh token obtained above in the refresh token (if not obtained, please refer to <a href="#_2-preparation-for-integration">Preparation for Integration</a> ).</li><li>If you are using the OAuth client ID and secret provided by <code>OpenList (or Community server/self-hosted server)</code>, configure according to <code>7.1</code> and <code>7.2</code>:<br> 7.1. Check <code>Use online api</code> to indicate using the online API provided by OpenList.<br> 7.2. Fill in the Api url address as <code>https://api.oplist.org/googleui/renewapi</code>. If it is a <code>Community server/self-hosted server</code>, enter the corresponding server address.</li></ol><p><img src="'+w+'" alt="google-07-d" data-mode="darkmode-only" loading="lazy"><br><img src="'+I+'" alt="google-07-l" data-mode="lightmode-only" loading="lazy"></p><ol start="8"><li>If you are using your own created OAuth client ID and secret, configure according to <code>8.1</code> and <code>8.2</code>:<br> 8.1. Do not check <code>Use online api</code> to indicate using your own built OAuth client ID and secret.<br> 8.2. Enter your <code>Oauth Client ID</code> in <code>Client ID</code> and your <code>Oauth Client Secret</code> in <code>Client Secret</code>.</li></ol><p><img src="'+A+'" alt="google-08-l" data-mode="lightmode-only" loading="lazy"><br><img src="'+z+'" alt="google-08-d" data-mode="darkmode-only" loading="lazy"></p><ol start="9"><li>Click the <code>Add</code> button to complete the addition of Google Drive.</li></ol><h2 id="_4-instructions-on-the-use-online-api-option" tabindex="-1"><a class="header-anchor" href="#_4-instructions-on-the-use-online-api-option"><span>4. Instructions on the &quot;Use online api&quot; Option</span></a></h2><h3 id="_4-1-accesstoken-refresh-process-when-having-your-own-key" tabindex="-1"><a class="header-anchor" href="#_4-1-accesstoken-refresh-process-when-having-your-own-key"><span>4.1. AccessToken Refresh Process When Having Your Own Key</span></a></h3>',46)),a(t,{id:"mermaid-264",code:"eJxdzDEOgkAUhOGeU0xlxwUoqEiMlcYbrMuIL6xv8e2C8fZug0Ha+Sdf4mumenbiBnPPCpicZfEyOc3AeaIGSXm/H2McAjuThSWtr7ptN6HBxeIiPWG8G9MDOY5UHHCbJeRaFD4IC3fq4LTHyE/BNkLxVrrBlXk2hfIN5z1T+nF/fPUFuCtKAg=="}),e[1]||(e[1]=o("h3",{id:"_4-2-accesstoken-refresh-process-when-not-having-your-own-key",tabindex:"-1"},[o("a",{class:"header-anchor",href:"#_4-2-accesstoken-refresh-process-when-not-having-your-own-key"},[o("span",null,"4.2. AccessToken Refresh Process When Not Having Your Own Key")])],-1)),a(t,{id:"mermaid-268",code:"eJyNkEtuAjEQRPdzilpl5wuwIEIaKWEFQrmAYyqkhdOe2D2Dcvt4ogziIxBbd73X5XbONSYWOcNrOsASNvzILJ9YhMBS3tKeikE8VhpFuVgvn5sRKvzuqYGt+F32Xw3Q+WwSpPNqwKpjzRe7ep8sl4OXlHaRbZaBdTThbj4/EjOscxpkS+T/ijaWG9NTpMZPPDcAPOG9l2hOFCEK6/ZlC69b7PlTbSeG8/UbWp8VygP833GOvnuFpq88zv8CCfSKtQ=="}),e[2]||(e[2]=o("h2",{id:"_5-which-download-method-is-used-by-default",tabindex:"-1"},[o("a",{class:"header-anchor",href:"#_5-which-download-method-is-used-by-default"},[o("span",null,"5. Which Download Method Is Used by Default?")])],-1)),a(t,{id:"mermaid-272",code:"eJyNkL1uwjAURnee4gpWHBQooFpKK1WMnapWHaIMjn1dWzhxajskefuaNCA6VMKL/75z7HsJIbOgg0EKn0pzBcJ2tbFMQIVBWQHaQ+tRQDmAQMlaE55nZ0ga23HFXID3lxnE4cNgEHgKUhtDF2Uplz44e0S6kLvdtCadFkHRddMvuTXWxTspb3C2nnAp99v99mrYbDZ/DQ9N/4u15ZdjjQItMIUcivGUp+OEtZi2ubGcGWic7YeCUupthdww77NsqirLsie2zmOtDvC71U2FdZhs5+ABJVypyycfd2OgTPPDpW3jE/Dx9lqQhJmArmZBnzAh/9s1P0YFzJNkJVzMOr/itqpsnahQmUWHpWAn0tgYHOY3TOz1ncwPx9ee1g=="})])}const q=C(P,[["render",S],["__file","googledrive.html.vue"]]),W=JSON.parse('{"path":"/guide/drivers/googledrive.html","title":"Google Drive","lang":"en-US","frontmatter":{"icon":"iconfont icon-state","order":111,"category":["Guide"],"tag":["Storage","Guide","Native Rroxy","Official"],"sticky":true,"star":true},"git":{"createdTime":1662556125000,"updatedTime":1750392929000,"contributors":[{"name":"Noah Hsu","username":"","email":"i@nn.ci","commits":2},{"name":"anwen-anyi","username":"anwen-anyi","email":"56105412+anwen-anyi@users.noreply.github.com","commits":7,"url":"https://github.com/anwen-anyi"},{"name":"Andy Hsu","username":"","email":"i@nn.ci","commits":2},{"name":"william","username":"william","email":"x@ora.pub","commits":1,"url":"https://github.com/william"},{"name":"安稳","username":"","email":"anwen_anyi@foxmail.com","commits":1},{"name":"anwen","username":"anwen","email":"anwen_anyi@foxmail.com","commits":1,"url":"https://github.com/anwen"},{"name":"Hantong Chen","username":"","email":"cxwdyx620@gmail.com","commits":1},{"name":"dezhishen","username":"dezhishen","email":"26274059+dezhishen@users.noreply.github.com","commits":2,"url":"https://github.com/dezhishen"},{"name":"cxw620","username":"cxw620","email":"70561268+cxw620@users.noreply.github.com","commits":1,"url":"https://github.com/cxw620"}]},"readingTime":{"minutes":4.15,"words":1244},"filePathRelative":"guide/drivers/googledrive.md"}');export{q as comp,W as data};
