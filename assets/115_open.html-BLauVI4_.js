import{_ as i,a as d,b as t,c as r,d as c,e as l,f as p,g as h,h as m,i as g,j as b,k as _,l as u,m as k,n as f}from"./115-open-06-02-l-CKgIj00P.js";import{_ as y}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as A,b as s,a as o,e as n,r as z,o as x}from"./app-DS-wFMuZ.js";const v={};function O(K,e){const a=z("Mermaid");return x(),A("div",null,[e[0]||(e[0]=s('<h1 id="_115-开放平台" tabindex="-1"><a class="header-anchor" href="#_115-开放平台"><span>115 开放平台</span></a></h1><div class="hint-container tip"><p class="hint-container-title">提示</p><p>使用官方 <a href="https://open.115.com" target="_blank" rel="noopener noreferrer"><strong>115开放平台 API</strong></a> 开发</p></div><div class="hint-container caution"><p class="hint-container-title">请仔细阅读注意事项</p><p>请规范使用帐号，包含但不限于 <strong><code>多人共享使用</code></strong>、<strong><code>图床、软件床</code></strong> 和 <strong><code>视频外链到视频网站播放</code></strong> 等分发服务以及一些没有提到的不规范使用的方式导致帐号被封禁的，后果自负</p></div><br><h2 id="_1-必要条件" tabindex="-1"><a class="header-anchor" href="#_1-必要条件"><span>1.必要条件</span></a></h2><p>必须有 <strong>115</strong> 的帐号</p><div class="hint-container warning"><p class="hint-container-title">注意事项</p><p>速度与稳定性与本地网络环境，115 服务器的网络环境以及 OpenList 的运行机器的性能有关</p></div><h2 id="_2-准备接入" tabindex="-1"><a class="header-anchor" href="#_2-准备接入"><span>2.准备接入</span></a></h2><h3 id="_2-1-开放平台注册应用-可选-如果使用openlist-公益服务器-自建服务器内置的密钥对-则不用创建" tabindex="-1"><a class="header-anchor" href="#_2-1-开放平台注册应用-可选-如果使用openlist-公益服务器-自建服务器内置的密钥对-则不用创建"><span>2.1.开放平台注册应用（可选，如果使用OpenList/公益服务器/自建服务器内置的密钥对，则不用创建）</span></a></h3><div class="hint-container tip"><p class="hint-container-title">提示</p><p>请根据115 开放平台的要求注册应用</p></div><p>开放平台地址: <a href="https://open.115.com" target="_blank" rel="noopener noreferrer">115 开放平台:https://open.115.com </a></p><h3 id="_2-2-获取令牌" tabindex="-1"><a class="header-anchor" href="#_2-2-获取令牌"><span>2.2.<strong>获取令牌</strong></span></a></h3><ol><li>访问<a href="https://api.oplist.org" target="_blank" rel="noopener noreferrer">api.oplist.org</a> <strong>⚠️如果使用公益服务器/自建服务器，请访问公益服务器/自建服务器的地址</strong></li><li>在下拉框中选择 <strong>115 验证网盘</strong></li></ol><p><img src="'+i+'" alt="115-open-01-d" data-mode="darkmode-only" loading="lazy"><br><img src="'+d+'" alt="115-open-01-l" data-mode="lightmode-only" loading="lazy"></p><ol start="3"><li>如果你使用的是 <code>OpenList （或者公益服务器/自建服务器）</code>内置的密钥对（即：自身没有115开放平台的应用信息），请按照<code>3.1</code>、<code>3.2</code>和<code>3.3</code>进行配置<br> 3.1. <strong>勾选</strong><code>使用 OpenList 提供的参数</code>。<br> 3.2. <code>客户端ID（ClientID/AppID）</code>和<code>应用秘钥 (AppKey/Secret)</code>均<strong>留空</strong><br> 3.3. 点击<code>获取Token</code>按钮。</li></ol><p><img src="'+t+'" alt="115-open-02-01-d" data-mode="darkmode-only" loading="lazy"><br><img src="'+r+'" alt="115-open-02-01-l" data-mode="lightmode-only" loading="lazy"></p><ol start="4"><li>如果你使用的是自己创建的 OAuth 客户端 ID 和密钥，请按照<code>4.1</code>、<code>4.2</code>和<code>4.3</code>进行配置<br> 4.1. <strong>不要</strong>勾选<code>使用 OpenList 提供的参数</code>。<br> 4.2. 在<code>客户端ID</code>中填写你的<code>AppId</code>，在<code>应用密钥</code>中填写你的<code>AppSecret</code><br> 4.3. 点击<code>获取Token</code>按钮。</li></ol><p><img src="'+c+'" alt="115-open-02-02-d" data-mode="darkmode-only" loading="lazy"><br><img src="'+l+'" alt="115-open-02-02-l" data-mode="lightmode-only" loading="lazy"></p><ol start="5"><li>在弹出的窗口中，登录你的 115 账号，并授权 OpenList 访问你的 115 网盘。</li></ol><p><img src="'+p+'" alt="115-open-03" loading="lazy"></p><ol start="6"><li>授权成功后，页面会显示你的 <code>访问令牌（Access Token）</code> 和 <code>刷新令牌（Refresh Token）</code>，请复制并保存这两个令牌。</li></ol><p><img src="'+h+'" alt="115-open-04" data-mode="darkmode-only" loading="lazy"><br><img src="'+m+'" alt="115-open-04" data-mode="lightmode-only" loading="lazy"></p><h2 id="_3-在openlist中添加115网盘" tabindex="-1"><a class="header-anchor" href="#_3-在openlist中添加115网盘"><span>3.在OpenList中添加115网盘</span></a></h2><h3 id="_3-1-配置说明" tabindex="-1"><a class="header-anchor" href="#_3-1-配置说明"><span>3.1. 配置说明</span></a></h3><h4 id="_3-1-1-根文件夹-id" tabindex="-1"><a class="header-anchor" href="#_3-1-1-根文件夹-id"><span>3.1.1.<strong>根文件夹 ID</strong></span></a></h4><p>默认根目录ID为：<code>0</code><br><br> 打开 115 网盘官网，点击进入要设置的文件夹时点击 URL 中 <code>cid</code>后面的数字<br><br> 如 <a href="https://115.com/?cid=249163533602609229&amp;offset=0&amp;tab=&amp;mode=wangpan" target="_blank" rel="noopener noreferrer">https://115.com/?cid=249163533602609229&amp;offset=0&amp;tab=&amp;mode=wangpan</a><br><br> 这个文件夹的 <code>根文件夹ID</code> 即为 <code>249163533602609229</code><br></p><h3 id="_3-2-开始添加" tabindex="-1"><a class="header-anchor" href="#_3-2-开始添加"><span>3.2.开始添加</span></a></h3><ol><li>打开 Alist 的管理界面，点击左侧菜单中的<code>存储</code>。</li><li>在存储列表页面，点击右上角的<code>添加存储</code>按钮。</li><li>选择驱动为<code>115 开放平台</code>。<br><img src="'+g+'" alt="115-open-05-d" data-mode="darkmode-only" loading="lazy"><br><img src="'+b+'" alt="115-open-05-l" data-mode="lightmode-only" loading="lazy"></li><li>输入挂载路径，如：<code>115</code>。</li><li>在<code>根文件夹 ID</code>中填写上面获取的根文件夹 ID（请参考<a href="#_3-1-1-%E6%A0%B9%E6%96%87%E4%BB%B6%E5%A4%B9-id">3.1.1.根文件夹 ID</a>）。</li><li>刷新令牌中填写上面获取的<code>刷新令牌</code>和<code>Access token</code>（如未获取，请参考<a href="#_2-%E5%87%86%E5%A4%87%E6%8E%A5%E5%85%A5">2. 准备接入</a>）。</li><li>如果你使用的是 <code>OpenList （或者公益服务器/自建服务器）</code>提供的 OAuth 客户端 ID 和密钥，请按照<code>7.1</code>和<code>7.2</code>进行配置<br> 7.1. 在<code>Use online api</code>中勾选，表示使用 OpenList 提供的在线 API。<br> 7.2. Api url address填写为 <code>https://api.oplist.org/115cloud/renewapi</code>，如果是<code>公益服务器/自建服务器</code>，请填写对应的服务器地址。</li></ol><p><img src="'+_+'" alt="115-open-06-01-d" data-mode="darkmode-only" loading="lazy"><br><img src="'+u+'" alt="115-open-06-01-l" data-mode="lightmode-only" loading="lazy"></p><ol start="8"><li>如果你使用的是自己创建的 OAuth 客户端 ID 和密钥，请按照<code>8.1</code>和<code>8.2</code>进行配置<br> 8.1. 在<code>Use online api</code>中不勾选，表示使用自建的 OAuth 客户端 ID 和密钥。<br> 8.2. 在<code>客户端ID</code>中填写你的<code>Oauth 客户端 ID</code>，在<code>客户端密钥</code>中填写你的<code>Oauth 客户端密钥</code></li></ol><p><img src="'+k+'" alt="115-open-06-02-d" data-mode="darkmode-only" loading="lazy"><br><img src="'+f+'" alt="115-open-06-02-l" data-mode="lightmode-only" loading="lazy"></p><ol start="9"><li>点击<code>添加</code>按钮，完成115网盘的添加。</li></ol><h2 id="_4-关于use-online-api选项的说明" tabindex="-1"><a class="header-anchor" href="#_4-关于use-online-api选项的说明"><span>4.关于<code>Use online api</code>选项的说明</span></a></h2><h3 id="_4-1-自身有密钥的情况下-accesstoken刷新的方式" tabindex="-1"><a class="header-anchor" href="#_4-1-自身有密钥的情况下-accesstoken刷新的方式"><span>4.1.自身有密钥的情况下，AccessToken刷新的方式</span></a></h3>',34)),o(a,{id:"mermaid-175",code:"eJwrTi0sTc1LTnXJTEwvSszlUlAoSCwqyUzOLEjMK1FQ8C9IzcvJLC5BFzc0NH02p/dp18KnM1cA5WDKdO3skGWsFJ71T3iyb/bTju3Ppm14snvJ884e7adtrc/3rns+q+XpukXPOrY/X73e0+XppJ6n69teTloKNAvZAKB5MKOtFF7sn/J09jygQUC9L9btfzl9HcxEJOO5uAAcLGw7"}),e[1]||(e[1]=n("h3",{id:"_4-2-自身没有密钥的情况下-accesstoken刷新的方式",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_4-2-自身没有密钥的情况下-accesstoken刷新的方式"},[n("span",null,"4.2.自身没有密钥的情况下，AccessToken刷新的方式")])],-1)),o(a,{id:"mermaid-179",code:"eJzT1dXlKsksyUm1Uni6rOnJ3qkvG2a92N/un5eTmZfqGOD5tGP7s2kbHJOTU4uLQ/KzU/Pe75nPBdJUnFpYmpqXnOqSmZhelJjLpaBQkFhUkpmcWZCYV6Kg4F+QCjSiuARDHGYwuoShoemzOb1PuxY+nbkCKAfTr2tnB9dipfCsf8KTfbMhbnqye8nzzh6QUpg8UC2yKdiUaz9ta32+d93zWS1P1y161rH9+er1ni5PJ/U8Xd/2ctJSoGHIBqDa/WL/lKez5wFNAmp+sW7/y+nrYEbidg7MF8TqBgBYusVO"}),e[2]||(e[2]=s('<h2 id="_5-注意事项" tabindex="-1"><a class="header-anchor" href="#_5-注意事项"><span>5.<strong>注意事项</strong></span></a></h2><div class="hint-container warning"><p class="hint-container-title">Token 泄漏后处理方法</p><p>如果不小心泄漏了 Token，可以前往115设备登录管理解除应用授权</p><ul><li>115 APP：【<strong>iOS</strong> 、<strong>Android</strong>】版本 需要 ≥ 35.11.0</li><li>115 网页端：<strong><a href="https://115.com/?mode=device_manage" target="_blank" rel="noopener noreferrer">https://115.com/?mode=device_manage</a></strong></li></ul><p>失效后会提示如下内容：</p><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-json"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">failed get objs: failed to list objs: code: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">40140116</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, message: no auth</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>一个帐号可以在同一个应用获取两次<code>Refresh token</code>，第三次获取后第一次获取到的<code>Refresh token</code>就会失效，使用第一个<code>Refresh token</code>会提示上面的错误</p></div><br><h2 id="_6-使用其他-app-id-获取刷新令牌-尚未实现" tabindex="-1"><a class="header-anchor" href="#_6-使用其他-app-id-获取刷新令牌-尚未实现"><span>6.使用其他 APP ID 获取刷新令牌（尚未实现）</span></a></h2><div class="hint-container tip"><p class="hint-container-title">提示</p><p>开发中, 教程暂未更新, 敬请期待!</p></div><h2 id="_7-手机扫码授权pkce模式-尚未实现" tabindex="-1"><a class="header-anchor" href="#_7-手机扫码授权pkce模式-尚未实现"><span>7.手机扫码授权PKCE模式（尚未实现）</span></a></h2><div class="hint-container tip"><p class="hint-container-title">提示</p><p>开发中, 教程暂未更新, 敬请期待!</p></div><h2 id="_8-默认使用的下载方式" tabindex="-1"><a class="header-anchor" href="#_8-默认使用的下载方式"><span>8.默认使用的下载方式</span></a></h2>',8)),o(a,{id:"mermaid-227",code:"eJzT1dXlKsksyUm1Uni5e8aLdUue7N3/fMqK57Nank5e9Xx575Md3S/27n02befTPf3v98znAqlPy8kvT85ILCpRCHHiUgCC4pLKnFSFREOFtMycHCvlpKQ0neKSovzsVCvlNDMzKFu3PDOlJMPKqKBCJzk/J78IKJeWhqzdCKo9Lc3c1NwUboKxsTGqCSYFFRBtpUnpRYkFGQqZKamGCtEKsWDRREMwlZqXAuVGGxsYxVpZWRXn56Ym5yQWF9sCQQ3EszWJRtFA3z7r2P5i3b6nS9ohRoBVuaSmKcC1wFxmaQZRYBj9bM6aZ3N2Pdm9+PmEtlhdPaDelw2derp2WA1MMoyGqAwN8iGoODknMzkbFJhKenr6KUWZZalFxfrJ+bm5+Xl6GSW5OcrlqUkpiWW6z9dOez51qRKSniQy9CQTrQcAkHnb9A=="})])}const D=y(v,[["render",O]]),F=JSON.parse('{"path":"/zh/guide/drivers/115_open.html","title":"115 开放平台","lang":"zh-CN","frontmatter":{"icon":"iconfont icon-state","order":21,"category":["Guide"],"tag":["Storage","Guide","302","官方"],"sticky":true,"star":true,"toc":[2,6]},"git":{"createdTime":1742144036000,"updatedTime":1751526541000,"contributors":[{"name":"安稳","username":"","email":"anwen_anyi@foxmail.com","commits":2},{"name":"anwen","username":"anwen","email":"anwen_anyi@foxmail.com","commits":2,"url":"https://github.com/anwen"},{"name":"Hantong Chen","username":"","email":"cxwdyx620@gmail.com","commits":1},{"name":"cxw620","username":"cxw620","email":"70561268+cxw620@users.noreply.github.com","commits":2,"url":"https://github.com/cxw620"},{"name":"WuXiaTux","username":"WuXiaTux","email":"1703059013@qq.com","commits":1,"url":"https://github.com/WuXiaTux"},{"name":"未觉寻星","username":"","email":"2937150394@qq.com","commits":1},{"name":"dezhishen","username":"dezhishen","email":"26274059+dezhishen@users.noreply.github.com","commits":1,"url":"https://github.com/dezhishen"}]},"readingTime":{"minutes":5.36,"words":1607},"filePathRelative":"zh/guide/drivers/115_open.md"}');export{D as comp,F as data};
